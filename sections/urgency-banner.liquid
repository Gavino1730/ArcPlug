{% comment %}
  Urgency Banner - Creates FOMO and drives conversions
{% endcomment %}

<style>
  .urgency-banner {
    background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
    color: white;
    padding: {{ section.settings.padding_top }}px 1.5rem {{ section.settings.padding_bottom }}px 1.5rem;
    text-align: center;
    position: relative;
    overflow: hidden;
  }

  .urgency-banner::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
    animation: shine 3s infinite;
  }

  @keyframes shine {
    0% { left: -100%; }
    50%, 100% { left: 100%; }
  }

  .urgency-banner__content {
    max-width: 1200px;
    margin: 0 auto;
    position: relative;
    z-index: 1;
  }

  .urgency-banner__icon {
    font-size: 1.5rem;
    margin-bottom: 0.5rem;
    animation: pulse 2s infinite;
  }

  @keyframes pulse {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.1); }
  }

  .urgency-banner__title {
    font-size: 1.5rem;
    font-weight: 700;
    margin: 0 0 0.5rem 0;
    text-transform: uppercase;
    letter-spacing: 1px;
  }

  .urgency-banner__text {
    font-size: 1rem;
    margin: 0 0 1rem 0;
    opacity: 0.95;
  }

  .urgency-banner__cta {
    display: inline-block;
    padding: 0.875rem 2.5rem;
    background: white;
    color: #dc2626;
    text-decoration: none;
    border-radius: 40px;
    font-weight: 700;
    font-size: 1rem;
    margin-top: 0.5rem;
    transition: all 0.3s ease;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
  }

  .urgency-banner__cta:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(0, 0, 0, 0.25);
    background: #fef2f2;
  }

  .urgency-banner--warning {
    background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
  }

  .urgency-banner--warning .urgency-banner__cta {
    color: #d97706;
  }

  .urgency-banner--success {
    background: linear-gradient(135deg, #10b981 0%, #059669 100%);
  }

  .urgency-banner--success .urgency-banner__cta {
    color: #059669;
  }

  @media screen and (max-width: 749px) {
    .urgency-banner__title {
      font-size: 1.2rem;
    }

    .urgency-banner__text {
      font-size: 0.9rem;
    }

    .urgency-banner__cta {
      padding: 0.75rem 2rem;
      font-size: 0.95rem;
    }
  }
</style>

<div class="urgency-banner urgency-banner--{{ section.settings.style }}">
  <div class="urgency-banner__content">
    {% if section.settings.show_icon %}
      <div class="urgency-banner__icon">{{ section.settings.icon }}</div>
    {% endif %}
    
    {% if section.settings.title != blank %}
      <h2 class="urgency-banner__title">{{ section.settings.title }}</h2>
    {% endif %}
    
    {% if section.settings.text != blank %}
      <p class="urgency-banner__text">{{ section.settings.text }}</p>
    {% endif %}
    
    {% if section.settings.button_text != blank and section.settings.button_link != blank %}
      <a href="{{ section.settings.button_link }}" class="urgency-banner__cta">
        {{ section.settings.button_text }}
      </a>
    {% endif %}
  </div>
</div>

{% schema %}
{
  "name": "Urgency Banner",
  "tag": "section",
  "class": "section",
  "settings": [
    {
      "type": "select",
      "id": "style",
      "label": "Banner Style",
      "options": [
        {
          "value": "urgent",
          "label": "Urgent (Red)"
        },
        {
          "value": "warning",
          "label": "Warning (Orange)"
        },
        {
          "value": "success",
          "label": "Success (Green)"
        }
      ],
      "default": "urgent"
    },
    {
      "type": "checkbox",
      "id": "show_icon",
      "label": "Show Icon",
      "default": true
    },
    {
      "type": "text",
      "id": "icon",
      "label": "Icon (emoji)",
      "default": "ðŸ”¥"
    },
    {
      "type": "text",
      "id": "title",
      "label": "Title",
      "default": "Limited Stock Alert"
    },
    {
      "type": "textarea",
      "id": "text",
      "label": "Text",
      "default": "Popular colors selling fast. Order now to secure your jacket."
    },
    {
      "type": "text",
      "id": "button_text",
      "label": "Button Text",
      "default": "Shop Now"
    },
    {
      "type": "url",
      "id": "button_link",
      "label": "Button Link"
    },
    {
      "type": "range",
      "id": "padding_top",
      "min": 0,
      "max": 60,
      "step": 4,
      "unit": "px",
      "label": "Padding Top",
      "default": 24
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "min": 0,
      "max": 60,
      "step": 4,
      "unit": "px",
      "label": "Padding Bottom",
      "default": 24
    }
  ],
  "presets": [
    {
      "name": "Urgency Banner",
      "settings": {
        "style": "urgent",
        "show_icon": true,
        "icon": "ðŸ”¥",
        "title": "Limited Stock Alert",
        "text": "Popular colors selling fast. Order now to secure your preferred color.",
        "button_text": "Shop Now - $149.99",
        "button_link": "/collections/all"
      }
    }
  ]
}
{% endschema %}
